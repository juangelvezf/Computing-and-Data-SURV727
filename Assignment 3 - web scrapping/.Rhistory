library(xml2)
library(rvest)
paths_allowed("https://en.wikipedia.org/wiki/Grand_Boulevard,_Chicago")
library(xml2)
library(rvest)
library(jsonlite)
library(robotstxt)
install.packages("robotstxt")
library(RSocrata)
install.packages("RSocrata")
install.packages("RSocrata")
library(RSocrata)
library(RSocrata)
packages = c("tidyverse", "xml2","rvest","jsonlite","robotstxt","RSocrata")
package.check <- lapply(packages, FUN = function(x) {
if (!require(x, character.only = TRUE)) {
install.packages(x, dependencies = TRUE)
library(x, character.only = TRUE)
}})
```{r, echo=FALSE}
rm(list=ls())
packages = c("tidyverse", "xml2","rvest","jsonlite","robotstxt","RSocrata")
package.check <- lapply(packages, FUN = function(x) {
if (!require(x, character.only = TRUE)) {
install.packages(x, dependencies = TRUE)
library(x, character.only = TRUE)
}})
paths_allowed("https://en.wikipedia.org/wiki/Grand_Boulevard,_Chicago")
wiki <- read_html("https://en.wikipedia.org/wiki/Grand_Boulevard,_Chicago")
wiki %>%
html_element(".tracklist") %>%
html_table()
pop <- wiki %>%
read_html %>%
html_node('table#Historical population') %>%
html_table()
wiki %>%
html_element(".tracklist") %>%
html_table()
pop <- wiki %>%
read_html %>%
html_node('table#Historical population') %>%
html_table()
nds <- html_nodes(url, wiki = '//*[contains(concat( " ", @class, " " ), concat( " ", "toccolours", " " ))]')
nds <- html_nodes(wiki, xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "toccolours", " " ))]')
names <- html_text(nds)
head(names)
tables <- html_text(nds)
head(tables)
hp<-tables[[1]]
head(hp)
hp <- "Historical population"
tables[[hp]]
hp <-
hp <- tables[["Historical population"]]
hp <- tables[["Historical population"]]
head(tables)
hp <- tables[["Historical population"]]
hp <- tables[[1]]
head(hp)
tables$1
tables$Historical population
nds1 <- html_table(wiki)
str(nds1)
head(table_wiki)
head(nds1)
nds <- html_nodes(wiki, xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "toccolours", " " ))]')
View(nds)
str(nds)
str(nds)
str(nds)
str(nds)
hist_pop <- nds [[1]]
hist_pop
hist_pop <- nds [[2]]
hist_pop <- nds [[1]]
hist_pop
head(hist_pop)
table_wiki <- html_table(wiki)
str(table_wiki)
str(nds)
nds <- html_table(wiki)
str(nds)
hist_pop <- nds [[2]]
hist_pop
pop <- pop[2:10, -3]
pop <- pop[2:10, -3]
pop <- hist_pop[2:10, -3]
pop
adj_places <- table_wiki [[3]]
adj_places
east_areas <- adj_places [1, 1]
east_areas
east_areas <- gsub("\n", "_", east_areas)
east_areas
pops <- pop
